
# Application Configuration
quarkus.application.name=memory-service
quarkus.application.version=1.0.0

# Database Configuration
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=${DB_USERNAME:memory_user}
quarkus.datasource.password=${DB_PASSWORD:memory_pass}
quarkus.datasource.reactive.url=${DB_URL:postgresql://localhost:5432/memory_db}

# Hibernate Configuration
quarkus.hibernate-orm.schema-management.strategy=update
quarkus.hibernate-orm.sql-load-script=import.sql

# Redis Configuration
quarkus.redis.hosts=${REDIS_URL:redis://localhost:6379}
quarkus.redis.password=${REDIS_PASSWORD:}

# Kafka Configuration
kafka.bootstrap.servers=${KAFKA_BROKERS:localhost:9092}
mp.messaging.outgoing.memory-events.connector=smallrye-kafka
mp.messaging.outgoing.memory-events.topic=memory.events
mp.messaging.outgoing.memory-events.value.serializer=io.quarkus.kafka.client.serialization.ObjectMapperSerializer

mp.messaging.outgoing.execution-events.connector=smallrye-kafka
mp.messaging.outgoing.execution-events.topic=execution.events
mp.messaging.outgoing.execution-events.value.serializer=io.quarkus.kafka.client.serialization.ObjectMapperSerializer

mp.messaging.incoming.execution-results.connector=smallrye-kafka
mp.messaging.incoming.execution-results.topic=execution.results
mp.messaging.incoming.execution-results.value.deserializer=io.quarkus.kafka.client.serialization.ObjectMapperDeserializer
mp.messaging.incoming.execution-results.value.deserializer.type=com.enterprise.agent.memory.model.AgentResponse

mp.messaging.incoming.planning-requests.connector=smallrye-kafka
mp.messaging.incoming.planning-requests.topic=planning.requests
mp.messaging.incoming.planning-requests.value.deserializer=io.quarkus.kafka.client.serialization.ObjectMapperDeserializer
mp.messaging.incoming.planning-requests.value.deserializer.type=com.enterprise.agent.memory.messaging.MemoryMessageConsumer$PlanningRequest

# Memory Service Configuration
memory.cache.ttl=PT1H
memory.max.conversations=50
memory.similarity.threshold=0.7

# OpenTelemetry Configuration
quarkus.opentelemetry.tracer.exporter.otlp.endpoint=${OTEL_ENDPOINT:http://localhost:4317}
quarkus.opentelemetry.tracer.exporter.otlp.headers=${OTEL_HEADERS:}

# Health Check Configuration
quarkus.smallrye-health.root-path=/health

# Metrics Configuration
quarkus.micrometer.enabled=true
quarkus.micrometer.export.prometheus.enabled=true

# Logging Configuration
quarkus.log.level=INFO
quarkus.log.category."com.enterprise.agent.memory".level=DEBUG
