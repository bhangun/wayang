{
    "$id": "https://kayys.tech/schema/v1/plugin-implementation.schema.json",
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Plugin Implementation Schema",
    "type": "object",
    "required": [
        "type",
        "coordinate",
        "digest"
    ],
    "properties": {
        "type": {
            "type": "string",
            "enum": [
                "maven",
                "wasm",
                "container",
                "python",
                "jar",
                "node",
                "binary"
            ]
        },
        "coordinate": {
            "type": "string",
            "description": "Artifact coordinate (e.g., 'com.example:plugin:1.0.0')"
        },
        "digest": {
            "type": "string",
            "pattern": "^(sha256|sha512|blake3):[a-f0-9]{64,128}$"
        },
        "repository": {
            "type": "string",
            "format": "uri"
        },
        "entrypoint": {
            "type": "string"
        },
        "runtime": {
            "type": "object",
            "properties": {
                "javaVersion": {
                    "type": "string"
                },
                "wasmRuntime": {
                    "type": "string"
                },
                "pythonVersion": {
                    "type": "string"
                },
                "nodeVersion": {
                    "type": "string"
                }
            }
        }
    }
}