{
    "$id": "https://kayys.tech/schema/v1/ui.schema.json",
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "UI Schema",
    "type": "object",
    "properties": {
        "canvas": {
            "type": "object",
            "properties": {
                "zoom": {
                    "type": "number"
                },
                "offset": {
                    "type": "object",
                    "properties": {
                        "x": {
                            "type": "number"
                        },
                        "y": {
                            "type": "number"
                        }
                    }
                },
                "background": {
                    "type": "string"
                },
                "snapToGrid": {
                    "type": "boolean"
                }
            }
        },
        "nodes": {
            "type": "array",
            "items": {
                "$ref": "#/$defs/uiNode"
            }
        },
        "connections": {
            "type": "array",
            "items": {
                "$ref": "#/$defs/uiConnection"
            }
        }
    },
    "$defs": {
        "uiNode": {
            "type": "object",
            "required": [
                "ref",
                "position"
            ],
            "properties": {
                "ref": {
                    "type": "string"
                },
                "position": {
                    "type": "object",
                    "properties": {
                        "x": {
                            "type": "number"
                        },
                        "y": {
                            "type": "number"
                        }
                    }
                },
                "size": {
                    "type": "object",
                    "properties": {
                        "width": {
                            "type": "number"
                        },
                        "height": {
                            "type": "number"
                        }
                    }
                },
                "icon": {
                    "type": "string"
                },
                "color": {
                    "type": "string"
                },
                "shape": {
                    "type": "string"
                },
                "collapsed": {
                    "type": "boolean"
                },
                "zIndex": {
                    "type": "integer"
                },
                "themeVariant": {
                    "type": "string"
                }
            }
        },
        "uiConnection": {
            "type": "object",
            "properties": {
                "ref": {
                    "type": "string"
                },
                "color": {
                    "type": "string"
                },
                "pathStyle": {
                    "type": "string"
                }
            }
        }
    }
}